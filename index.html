<!DOCTYPE html>
   <html lang="auto">

   <head>
       <meta charset="UTF-8">
       <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
       <title>Email Keyboard</title>
       <style>
           :root {
               --primary: #007AFF;
               --primary-dark: #0062CC;
               --primary-light: #E6F2FF;
               --text: #1C1C1E;
               --bg: #F2F2F7;
               --card-radius: 16px;
           }

           .dark-mode {
               --primary: #0A84FF;
               --primary-dark: #0062CC;
               --primary-light: #003366;
               --text: #FFFFFF;
               --bg: #1C1C1E;
           }

           * {
               box-sizing: border-box;
               -webkit-tap-highlight-color: transparent;
           }

           body {
               font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
               margin: 0;
               padding: 0;
               background-color: var(--bg);
               color: var(--text);
               min-height: 100vh;
               display: flex;
               justify-content: center;
               align-items: center;
               touch-action: manipulation;
           }

           .keyboard-container {
               width: 100%;
               max-width: 500px;
               padding: 15px;
               text-align: center;
           }

           .generate-btn {
               width: 100%;
               height: 120px;
               background-color: var(--primary);
               color: white;
               border: none;
               border-radius: var(--card-radius);
               font-size: 22px;
               font-weight: 600;
               display: flex;
               flex-direction: column;
               align-items: center;
               justify-content: center;
               gap: 10px;
               padding: 20px;
               cursor: pointer;
               transition: all 0.2s;
               box-shadow: 0 6px 15px rgba(0, 122, 255, 0.3);
               position: relative;
               overflow: hidden;
           }

           .generate-btn:active {
               background-color: var(--primary-dark);
               transform: scale(0.98);
           }

           .icon {
               width: 36px;
               height: 36px;
               background-color: var(--primary-light);
               border-radius: 50%;
               display: flex;
               align-items: center;
               justify-content: center;
               padding: 8px;
           }

           .btn-text {
               font-size: 18px;
               letter-spacing: 0.5px;
           }

           [dir="rtl"] .btn-text {
               letter-spacing: 0;
           }
       </style>
   </head>

   <body>
       <div class="keyboard-container">
           <button class="generate-btn" id="generateBtn">
               <div class="icon">
                   <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                       <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                       <polyline points="22,6 12,13 2,6"></polyline>
                   </svg>
               </div>
               <span class="btn-text" id="btnText">Generate Email</span>
           </button>
       </div>

       <script>
           document.addEventListener('DOMContentLoaded', function () {
               const generateBtn = document.getElementById('generateBtn');
               const btnText = document.getElementById('btnText');

               // Language detection
               const isArabic = navigator.language.startsWith('ar');
               if (isArabic) {
                   document.documentElement.dir = 'rtl';
                   btnText.textContent = 'توليد بريد إلكتروني';
               }

               // Generate random email
               function generateEmail() {
                   const firstNames = ['john', 'jane', 'mike', 'sarah', 'david', 'emma', 'alex', 'lisa'];
                   const lastNames = ['smith', 'johnson', 'williams', 'brown', 'jones', 'miller'];
                   const domains = ['gmail.com', 'yahoo.com', 'outlook.com', 'hotmail.com'];

                   const randomName = firstNames[Math.floor(Math.random() * firstNames.length)];
                   const randomLastName = lastNames[Math.floor(Math.random() * lastNames.length)];
                   const randomNum = Math.floor(Math.random() * 1000);
                   const randomDomain = domains[Math.floor(Math.random() * domains.length)];

                   return `${randomName}.${randomLastName}${randomNum}@${randomDomain}`;
               }

               // Copy to clipboard silently
               function copyToClipboard(text) {
                   if (window.median && window.median.clipboard) {
                       window.median.clipboard.set(text);
                   } else if (navigator.clipboard) {
                       navigator.clipboard.writeText(text).catch(err => {
                           console.error('Failed to copy:', err);
                       });
                   }
               }

               // Insert text (placeholder for Median JavaScript Bridge)
               function insertText(text) {
                   if (window.median && window.median.keyboard) {
                       // Hypothetical Median keyboard API
                       window.median.keyboard.insertText(text, () => {
                           console.log('Text inserted');
                       }, (err) => {
                           console.error('Insert failed:', err);
                       });
                   } else {
                       console.log('No keyboard API available, email copied:', text);
                   }
               }

               // Button click handler
               generateBtn.addEventListener('click', function () {
                   const email = generateEmail();
                   copyToClipboard(email);
                   insertText(email);
               });

               // Dark mode detection
               if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                   document.body.classList.add('dark-mode');
               }
           });
       </script>
   </body>

   </html>
